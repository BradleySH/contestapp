{"ast":null,"code":"var _jsxFileName = \"/Users/markgw/Desktop/dev/contestapp/client/pinion-games/src/components/Admin.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Header from \"./Header\";\nimport ClientTag from \"./ClientTag\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst userAxios = axios.create();\nuserAxios.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\n\nconst Admin = () => {\n  _s();\n\n  const initState = [];\n  const [clients, setClients] = useState(initState);\n\n  function getClients() {\n    userAxios.get(\"/api/client\").then(res => {\n      setClients(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  function deleteClient(_id) {\n    userAxios.delete(`/api/client/${_id}`).then(res => console.log(res.data)).catch(err => console.log(err));\n  }\n\n  function editClient(inputs, _id) {\n    const clientObj = {\n      name: inputs.name,\n      access: inputs.access,\n      commissioner: inputs.commissioner\n    };\n    userAxios.put(`/api/client/${_id}`, clientObj).then(res => console.log(res.data)).catch(err => console.log(err));\n  }\n\n  useEffect(() => {\n    getClients();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-client\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"ADMiN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"client-grid\",\n        children: clients.map(client => /*#__PURE__*/_jsxDEV(ClientTag, {\n          client: client,\n          _id: client._id,\n          name: client.name,\n          commissioner: client.commissioner\n        }, client._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 32\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/createclient\",\n        style: {\n          width: '145px',\n          height: '145px',\n          borderRadius: '50%',\n          boxShadow: '0 0 10px blue',\n          display: 'grid',\n          placeItems: 'center'\n        },\n        children: \"+ New Client\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Admin, \"GnmCt0QEHYjr1uyS9ylpkYFf2t0=\");\n\n_c = Admin;\nexport default Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"sources":["/Users/markgw/Desktop/dev/contestapp/client/pinion-games/src/components/Admin.js"],"names":["useState","useEffect","Link","axios","Header","ClientTag","userAxios","create","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","Admin","initState","clients","setClients","getClients","get","then","res","data","catch","err","console","log","deleteClient","_id","delete","editClient","inputs","clientObj","name","access","commissioner","put","map","client","width","height","borderRadius","boxShadow","display","placeItems"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport axios from \"axios\"\n\nimport Header from \"./Header\"\nimport ClientTag from \"./ClientTag\"\n\nconst userAxios = axios.create()\nuserAxios.interceptors.request.use(config => {\n    const token = localStorage.getItem(\"token\")\n    config.headers.Authorization = `Bearer ${token}`\n    return config\n})\n\nconst Admin = () => {\n\n  const initState = []\n  const [clients, setClients] = useState(initState)\n  \n  function getClients(){\n    userAxios.get(\"/api/client\")\n      .then(res => {\n        setClients(res.data)\n      })\n      .catch(err => console.log(err))\n  }\n\n  function deleteClient(_id){\n    userAxios.delete(`/api/client/${_id}`)\n      .then(res => console.log(res.data))\n      .catch(err => console.log(err))\n  }\n\n  function editClient(inputs, _id){\n    const clientObj = {\n      name: inputs.name,\n      access: inputs.access,\n      commissioner: inputs.commissioner\n    }\n\n    userAxios.put(`/api/client/${_id}`, clientObj)\n      .then(res => console.log(res.data))\n      .catch(err => console.log(err))\n  }\n  \n  useEffect(() => {\n    getClients()\n  }, [])\n\n  return (\n    <>\n    <Header />\n    <div className=\"admin-client\">\n      <div className=\"admin-header\">\n        <h1>ADMiN</h1>\n      </div>\n      <div className=\"client-grid\">\n        {clients.map(client => <ClientTag key={client._id} client={client} _id={client._id} name={client.name} commissioner={client.commissioner}/>)}\n      </div>\n      <Link to='/createclient' style={{width: '145px', height: '145px', borderRadius: '50%', boxShadow: '0 0 10px blue', display: 'grid', placeItems: 'center'}}>\n        + New Client\n      </Link>\n    </div>\n    </>\n  )\n}\n\nexport default Admin"]},"metadata":{},"sourceType":"module"}