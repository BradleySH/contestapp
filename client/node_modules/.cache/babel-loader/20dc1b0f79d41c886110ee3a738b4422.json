{"ast":null,"code":"var _jsxFileName = \"/Users/markgw/Desktop/dev/contestapp/client/pinion-games/src/pages/Event.js\",\n    _s = $RefreshSig$();\n\nimport { useLocation } from \"react-router\";\nimport { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { UserContext } from \"../context/UserProvider\";\nimport SubHeader from \"../components/SubHeader\";\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst userAxios = axios.create();\nuserAxios.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\nexport default function Event() {\n  _s();\n\n  const location = useLocation();\n  const {\n    eventObj\n  } = location.state;\n  const {\n    user: {\n      role\n    }\n  } = useContext(UserContext);\n  const [toggle, setToggle] = useState(false);\n  const formattedDate = new Date(eventObj.eventDate).toLocaleDateString();\n\n  function deleteEvent() {\n    userAxios.delete(`/event/${eventObj._id}`);\n  }\n\n  function editEvent() {\n    // userAxios.put(`/event/${eventObj._id}`)\n    console.log(\"Edit route isn't completed, delete event instead.\");\n  }\n\n  function handleToggle() {\n    setToggle(prevToggle => !prevToggle);\n  }\n\n  const roleRestrictions = [\"admin\", \"commissioner\"];\n\n  function showActionTool() {\n    if (!toggle) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: handleToggle,\n        children: /*#__PURE__*/_jsxDEV(MoreHorizIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this);\n    } else if (toggle) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(CancelIcon, {\n          onClick: handleToggle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: deleteEvent,\n          children: [/*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: editEvent,\n          children: [/*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SubHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), roleRestrictions.includes(role) ? showActionTool() : null, /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: eventObj.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: formattedDate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Event, \"XodpHyPmejYFZ+kOozsGfymATB8=\", false, function () {\n  return [useLocation];\n});\n\n_c = Event;\n\nvar _c;\n\n$RefreshReg$(_c, \"Event\");","map":{"version":3,"sources":["/Users/markgw/Desktop/dev/contestapp/client/pinion-games/src/pages/Event.js"],"names":["useLocation","useContext","useState","axios","UserContext","SubHeader","CancelIcon","DeleteIcon","MoreHorizIcon","EditIcon","userAxios","create","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","Event","location","eventObj","state","user","role","toggle","setToggle","formattedDate","Date","eventDate","toLocaleDateString","deleteEvent","delete","_id","editEvent","console","log","handleToggle","prevToggle","roleRestrictions","showActionTool","includes","title"],"mappings":"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","sourcesContent":["import { useLocation } from \"react-router\";\nimport { useContext, useState } from \"react\";\nimport axios from \"axios\";\n\nimport { UserContext } from \"../context/UserProvider\";\nimport SubHeader from \"../components/SubHeader\";\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst userAxios = axios.create()\nuserAxios.interceptors.request.use(config => {\n    const token = localStorage.getItem(\"token\")\n    config.headers.Authorization = `Bearer ${token}`\n    return config\n})\n\n\n\nexport default function Event(){\n\n    const location = useLocation()\n    const { eventObj } = location.state\n    \n    const {user: {role}} = useContext(UserContext)\n\n    const [toggle, setToggle] = useState(false)\n\n    const formattedDate = new Date(eventObj.eventDate).toLocaleDateString()\n\n    function deleteEvent(){\n        userAxios.delete(`/event/${eventObj._id}`)\n    }\n\n    function editEvent(){\n        // userAxios.put(`/event/${eventObj._id}`)\n        console.log(\"Edit route isn't completed, delete event instead.\")\n    }\n\n    function handleToggle(){\n        setToggle(prevToggle => !prevToggle)\n    }\n\n    const roleRestrictions = [\"admin\", \"commissioner\"] \n\n    function showActionTool(){\n            if(!toggle){\n                return ( \n                    <div onClick={handleToggle}>\n                        <MoreHorizIcon />\n                    </div>\n                )\n            } else if(toggle){\n                return (\n                    <div>\n                        <CancelIcon onClick={handleToggle} />\n                        <div onClick={deleteEvent}>\n                            <DeleteIcon />\n                            <p>Delete</p>\n                        </div>\n                        <div onClick={editEvent}>\n                            <EditIcon />\n                            <p>Edit</p>\n                        </div>\n                    </div>\n                )\n            }\n    }\n\n    return (\n        <>\n            <SubHeader />\n            {roleRestrictions.includes(role) ? showActionTool() : null}\n            <h1>{eventObj.title}</h1>\n            <h2>{formattedDate}</h2>\n            \n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}